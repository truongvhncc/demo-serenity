# Getting started with Serenity and Cucumber

## The starter project
Learning resources for serenity framework ([https://serenity-bdd.github.io/](https://serenity-bdd.github.io/))

### The project directory structure
```angular2html
├── src/ │ 
├── main/ │ 
│ ├── java/ │
│ │ └── com/ │ 
│ │ └─── automation/ │ 
│ │ └──── autofx/ │
│ │ └───── common/ |
│ │ └───── sample_service/ │ 
│ │ └───── ... (other packages) │
├── test/ │ 
│ ├── java/ │
│ │ └── com/ │ 
│ │ └─── automation/ │ 
│ │ └──── steps/ │ 
│ │ └───── common/ │
│ │ └───── ... (other packages) │
│ └── resources/ │
│ │ └── data/ │
│ │ └── features/ │
│ │ └──  environment.default.properties │
│ │ └──  environment.hotpot.properties │
│ │ └──  ... (other environment files) 
├── pom.xml 
├── README.md 
└── ... (other files)
```
- **src/main/java**: Contains the main source code for the project, including common utility classes, common tasks and questions, specific service/page tasks and question (follow screenplay pattern)
- **src/test/java**: Contains the test source code for the project, including common test steps and test step definitions.
- **src/test/resources**: Contains feature files, configuration files and other resources used by the test code, including environment-specific properties files.
- **pom.xml**: The Maven project file that includes dependencies and build configurations.

## Executing the tests

Run all test cases
```json
$ mvn clean verify
```

Run by tag
```json
$ mvn clean verify -D"cucumber.filter.tag=(@tag-name)"
```

The test results will be recorded in the `target/site/serenity` directory.

## Generating the reports
Since the Serenity reports contain aggregate information about all of the tests, they are not generated after each individual test (as this would be extremenly inefficient). Rather, The Full Serenity reports are generated by the `serenity-maven-plugin`. You can trigger this by running `mvn serenity:aggregate` from the command line or from your IDE.

They reports are also integrated into the Maven build process: the following code in the `pom.xml` file causes the reports to be generated automatically once all the tests have completed when you run `mvn verify`?

```
 <plugin>
    <groupId>net.serenity-bdd.maven.plugins</groupId>
    <artifactId>serenity-maven-plugin</artifactId>
    <version>${serenity.maven.version}</version>
    <configuration>
        <tags>${tags}</tags>
    </configuration>
    <executions>
        <execution>
            <id>serenity-reports</id>
            <phase>post-integration-test</phase>
            <goals>
                <goal>aggregate</goal>
            </goals>
        </execution>
    </executions>
</plugin>
```